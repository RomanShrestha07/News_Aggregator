{% load static %}

<div class="widget">
    <div class="widget_title widget_black">
        <h2><a href="{% url 'AggregatorApp:category' 'top' %}">Popular News</a></h2>
    </div>

    {% for news in popular_news %}
        {% if forloop.counter < 5 %}
            <div class="media">
                {#                                        <div class="media-left">#}
                {#                                            <a href="#">#}
                {#                                                <img class="media-object" src="{{ news.image }}"#}
                {#                                                     alt="Generic placeholder image">#}
                {#                                            </a>#}
                {#                                        </div>#}
                <div class="top_article_img">
                    <a href="{{ news.get_absolute_url }}" target="_self">
                        <img class="img-responsive media-object"
                             src="{{ news.image }}"
                             alt="Generic placeholder image">
                    </a>
                </div>
                <div class="media-body">
                    <h3 class="media-heading">
                        <a href="{{ news.get_absolute_url }}" target="_blank">{{ news.headline }}</a>
                    </h3>
                    <span class="media-date">
                        Source: <a href="{% url 'AggregatorApp:news-by-source' news.source %}"> {{ news.source }}</a>&nbsp
                        Date: <a href="#"> {{ news.date_time }}</a>&nbsp
                        Author: <a href="#"> {{ news.author }}</a>
                    </span>
                </div>
            </div>
        {% endif %}
    {% endfor %}

    <p class="widget_divider"><a href="{% url 'AggregatorApp:category' 'top' %}" target="_self">More News&nbsp;&raquo;</a></p>
</div>